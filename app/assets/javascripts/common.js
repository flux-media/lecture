var getUrlParameter = function getUrlParameter(sParam) {
    var sPageURL = decodeURIComponent(window.location.search.substring(1)),
        sURLVariables = sPageURL.split('&'),
        sParameterName,
        i;

    for (i = 0; i < sURLVariables.length; i++) {
        sParameterName = sURLVariables[i].split('=');

        if (sParameterName[0] === sParam) {
            return sParameterName[1] === undefined ? true : sParameterName[1];
        }
    }
};

// From http://stackoverflow.com/questions/46155/validate-email-address-in-javascript
var validateEmail = function validateEmail(email) {
    var re = /^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;
    return re.test(email);
};

// From http://reed.github.io/turbolinks-compatibility/facebook.html
var bindFacebookEvents, initializeFacebookSDK, loadFacebookSDK, restoreFacebookRoot, saveFacebookRoot;

$(function() {
    loadFacebookSDK();
    if (!window.fbEventsBound) {
        return bindFacebookEvents();
    }
});

bindFacebookEvents = function() {
    $(document).on('page:fetch', saveFacebookRoot).on('page:change', restoreFacebookRoot).on('page:load', function() {
        return typeof FB !== "undefined" && FB !== null ? FB.XFBML.parse() : void 0;
    });
    return this.fbEventsBound = true;
};

saveFacebookRoot = function() {
    if ($('#fb-root').length) {
        return this.fbRoot = $('#fb-root').detach();
    }
};

restoreFacebookRoot = function() {
    if (this.fbRoot != null) {
        if ($('#fb-root').length) {
            return $('#fb-root').replaceWith(this.fbRoot);
        } else {
            return $('body').append(this.fbRoot);
        }
    }
};

loadFacebookSDK = function() {
    window.fbAsyncInit = initializeFacebookSDK;
    return $.getScript("//connect.facebook.net/en_US/sdk.js");
};

initializeFacebookSDK = function() {
    return FB.init({
        appId: $('#meta-fb-app-id').data('id'),
        status: true,
        cookie: true,
        version: 'v2.4',
        xfbml: true
    });
};

// ---
// generated by coffee-script 1.9.2